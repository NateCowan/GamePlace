{{>nav}}

{{!-- Needs: Style, debugging, review feature --}}

<body>
    <div class="container">
        <h1 class="p-3">{{game_title}}</h1>
        <!-- Image Carousel -->
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active">
        <img class="d-block w-100" src="{{cover}}" alt="First slide">
        </div>
        {{#each artworks}}
        <div class="carousel-item">
        <img class="d-block w-100" src="{{this.image_id}}">
        </div>
        {{/each}}
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
    </div>

        <!-- Table of Descriptors -->
        <table>
                <tr>
                    <td>Developers</td>
                    {{#each developers}}
                    <td>{{this.name}}</td>
                    {{/each}}
                </tr>
                <tr>
                    <td>Released</td>
                    <td>{{date}}</td>
                </tr>
                <tr>
                    <td>Genres</td>
                    {{#each genre}}
                    <td>{{this.name}}</td>
                    {{/each}}
                </tr>
                <tr>
                    <td>Platforms</td>
                    {{#each platform}}
                    <td>{{this.name}}</td>
                    {{/each}}
                </tr>
                <tr>
                    <td>Rating</td>
                    <td>{{rating}}</td>
                </tr>
                <!-- Add more rows as needed -->
        </table>

        <!-- Description Section -->
        <h2>Description</h2>
        <p>
            {{summary}}
        </p>
    </div>

    {{!-- Reviews will be implemented here --}}
    <div class="review-post">
    <form action="/game" method="POST">
      <h1>{{username}}</h1>

      <input type="text" maxlength="280" id="review_text" name="review_text" placeholder="Played the game? Leave a review!"><br><br>

      <label for="rating">Rating (From 1(low) to 10(high)):</label>
      <input type="number" id="rating" name="rating" min="1" max="10">

      <input type="hidden" id="username" name="username" value="{{username}}">
      <input type="hidden" id="gameID" name="gameID" value="{{game_title}}">
      <input type="submit" value="Submit">
    </form>
    </div>
    <br>
    {{#each reviews}}
        <div class="card">
            <div class="card-body">
              <h5 class="card-title">{{this.username}}</h5>
              <h6 class="card-subtitle mb-2 text-muted">Rating: {{this.rating}}</h6>
              <p class="card-text">{{this.review_text}}</p>
            </div>
        </div>
        <br>
    {{/each}}
</body>